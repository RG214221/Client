
<form (ngSubmit)="onSubmit()" id="form" #myForm>
  <h1>Sign In</h1>
  <h2>Personal Information</h2>
  <table cellspacing="0">
    <tr>
      <td>
        <mat-form-field>
          <mat-label>First name </mat-label>
          <input matInput [formControl]="fnameFormControl" [(ngModel)]="userSer.userDetails.PrivateName">
          <mat-error *ngIf="fnameFormControl.hasError('pattern') &&!fnameFormControl.hasError('required')">
            Please enter a valid name
          </mat-error>
          <mat-error *ngIf="fnameFormControl.hasError('required')">
            FirstName is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
      <td>
        <mat-form-field class="example-full-width">
          <mat-label>Last name</mat-label>
          <input matInput [formControl]="lnameFormControl" [(ngModel)]="userSer.userDetails.LastName">
          <mat-error *ngIf="lnameFormControl.hasError('pattern') &&!lnameFormControl.hasError('required')">
            Please enter a valid name
          </mat-error>
          <mat-error *ngIf="lnameFormControl.hasError('required')">
            LastName is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
    </tr>
    <tr>
      <td>
        <mat-form-field>
          <mat-label>ID</mat-label>
          <input matInput [formControl]="idFormControl" [(ngModel)]="userSer.userDetails.UserIDNumber">
          <mat-error *ngIf="idFormControl.hasError('pattern')&&!idFormControl.hasError('required')">
            Please enter a valid ID
          </mat-error>
          <mat-error *ngIf="idFormControl.hasError('required')">
            ID is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
      <td>
        <mat-form-field>
          <mat-label>Date of birth</mat-label>
          <input type="date" matInput [formControl]="dateFormControl" [(ngModel)]="userSer.userDetails.DOB">
          <mat-error *ngIf="dateFormControl.hasError('required')">
            Date of birth is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
    </tr>
    <tr>
      <td>
        <mat-form-field appearance="fill">
          <mat-label>HMO</mat-label>
          <mat-select [formControl]="hmoFormControl" [(ngModel)]="userSer.userDetails.HMO">
            <mat-option value="Maccabi">Maccabi </mat-option>
            <mat-option value="Mehuchedet">Mehuchedet </mat-option>
            <mat-option value="Klalit">Klalit </mat-option>
            <mat-option value="Lehumit">Lehumit </mat-option>
            <mat-option value="Other">Other </mat-option>
          </mat-select>
          <mat-error *ngIf="hmoFormControl.hasError('required')">
            HMO is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
      <td>
        <mat-form-field appearance="fill">
          <mat-label>Gender</mat-label>
          <mat-select [formControl]="genFormControl" [(ngModel)]="userSer.userDetails.Gender">
            <mat-option value="Male">Male</mat-option>
            <mat-option value="Female">Female</mat-option>
          </mat-select>
          <mat-error *ngIf="hmoFormControl.hasError('required')">
            Gender is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
    </tr>
    <tr id="full">
      <td>
        <mat-form-field>
          <mat-label>Num of children</mat-label>
          <input [formControl]="numFormControl" type="number" [(ngModel)]="numChildren" matInput (change)="updateChildrenArr($event)">
          <mat-error *ngIf="numFormControl.hasError('required')">
            Number of children is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </td>
    </tr>
  </table>

  <h2>Children Information</h2>
  <div id="children">
    <div *ngFor="let x of userSer.userDetails.Children; let i=index;">
      <app-show-one-child [index]="i"></app-show-one-child>
    </div>
  </div>
  <input id="sub" type="submit" value="Submit">
</form>

<footer>
  <p>Â© All Rights Reserved</p>
</footer>